{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","constants/colors.ts","components/CommonStyled/Tile.styled.ts","components/CommonStyled/PageWrapper.styled.ts","services/FormsValidator.service.ts","components/TextFieldInput/TextFieldInput.styled.ts","containers/LoginPage/LoginPage.styled.ts","assets/icons/ShowPasswordEyeIcon.tsx","containers/SignupPage/SignupPage.tsx"],"names":["_taggedTemplateLiteral","strings","raw","slice","Object","freeze","defineProperties","value","__webpack_require__","d","__webpack_exports__","COLORS","colorMainText","colorGreyPopup","colorAntiMain","colorExtraText","colorAccent1","colorAccent2","colorAccent3","colorAccent4","colorInactive","colorBorder","colorBorderError","pageBackground","Tile","styled","section","_templateObject","_ref","withRoundedCorners","_ref2","withShadow","TileHeader","header","_templateObject2","TileBody","main","_templateObject3","defaultProps","PageWrapper","FormsValidatorService","email","emailValidator","test","username","usernameValidator","password","length","TextFieldInput","input","props","error","theme","borderColor","CommonPageWrapper","LoginPage_styled_templateObject","LoginFormWrapper","LoginFormContainer","div","LoginForm","form","_templateObject4","LoginFormHeader","h2","_templateObject5","TextFieldLabel","label","_templateObject6","LoginFormInput","CommonTextFieldInput","_templateObject7","ErrorBlock","_templateObject8","visible","ShowPasswordEyeButton","button","_templateObject9","ShowPasswordEyeIcon","react","xmlns","width","height","viewBox","fill","fillRule","SubmitButtonContainer","_templateObject10","SubmitButton","_templateObject11","SignupLink","Link","_templateObject12","SignupPage","state","password1","password2","usernameValid","password1Valid","password2Valid","usernameTouched","password1Touched","password2Touched","password1Visible","password2Visible","isSignupSubmitted","isSignupSuccessfulMessageShown","onSubmit","e","preventDefault","isUsernameValid","_this","isPasswordValid","setState","signupUser","console","warn","onUsernameChange","target","onUsernameBlur","onPassword1Change","onPassword2Change","onPassword1Blur","onPassword2Blur","togglePassword1Visibility","prevState","togglePassword2Visibility","nextProps","nextContext","this","signupError","isSignupInProgress","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","Fragment","_LoginPage_LoginPage_styled__WEBPACK_IMPORTED_MODULE_8__","type","autoComplete","placeholder","onChange","onBlur","isUsernameErrorShown","isPassword1ErrorShown","onClick","isPassword2ErrorShown","disabled","isSubmitNotAllowed","Boolean","renderUsername","renderPassword1","renderPassword2","renderSubmit","react_router_dom__WEBPACK_IMPORTED_MODULE_14__","to","UrlService","loginPageUrl","renderSignupSuccessfulMessage","renderSignupForm","React","PureComponent","mapStateToProps","createStructuredSelector","selectors","mapDispatchToProps","signupUserAttempt","withConnect","connect","compose"],"mappings":"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","file":"static/js/2.9d894d63.chunk.js","sourcesContent":["export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","interface colorsPalette {\n  readonly colorMainText: string,\n  readonly colorGreyPopup: string,\n  readonly colorAntiMain: string,\n  readonly colorExtraText: string,\n  readonly colorAccent1: string,\n  readonly colorAccent2: string,\n  readonly colorAccent3: string,\n  readonly colorAccent4: string,\n  readonly colorInactive: string,\n  readonly colorBorder: string,\n  readonly colorBorderError: string,\n  readonly pageBackground: string,\n}\n\nexport const COLORS: colorsPalette = {\n  colorMainText: '#333333',\n  colorGreyPopup: '#d2d2d2',\n  colorAntiMain: '#ffffff',\n  colorExtraText: '#757575',\n  colorAccent1: '#7ceb7e',\n  colorAccent2: '#ff4a4a',\n  colorAccent3: '#f1970f',\n  colorAccent4: '#29a1fb',\n  colorInactive: '#c9c9c9',\n  colorBorder: '#dee1e4',\n  colorBorderError: '#df4930',\n  pageBackground: '#f5f6fa',\n};\n","import styled from 'styled-components';\nimport { COLORS } from '../../constants/colors';\n\nexport const Tile = styled.section<{\n  withShadow?: boolean,\n  withRoundedCorners?: boolean,\n}>`\n  background-color: ${COLORS.colorAntiMain};\n  border-radius: ${({ withRoundedCorners }) => withRoundedCorners ? 15 : 0}px;\n  box-shadow: ${({ withShadow }) => withShadow ? '0 0 10px 0 rgba(90, 103, 121, 0.1)' : 'none'};\n`;\n\nexport const TileHeader = styled.header`\n  padding: 0 40px;\n  border-bottom: 1px solid ${COLORS.colorBorder};\n`;\n\nexport const TileBody = styled.main`\n  padding: 20px 40px;\n`;\n\n// @ts-ignore\nTile.defaultProps = {\n  withShadow: true,\n  withRoundedCorners: true,\n};\n","import styled from 'styled-components';\n\nimport { COLORS } from '../../constants/colors';\n\n\nexport const PageWrapper = styled.section`\n  padding: 20px 40px 60px;\n  background-color: ${COLORS.pageBackground};\n`;\n","export default class FormsValidatorService {\n  static emailValidator = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;\n  static usernameValidator = /^[A-Za-z0-9]{1,20}$/;\n\n  public static isEmailValid(email: string): boolean {\n    return FormsValidatorService.emailValidator.test(email);\n  }\n\n  public static isUsernameValid(username: string): boolean {\n    return FormsValidatorService.usernameValidator.test(username);\n  }\n\n  public static isPasswordValid(password: string): boolean {\n    return password.length > 0 && password.length < 20;\n  }\n}\n","import styled from 'styled-components';\nimport { COLORS } from '../../constants/colors';\n\nexport const TextFieldInput = styled.input<{\n  error: boolean,\n}>`\n  background-color: ${COLORS.colorAntiMain};\n  border: 1px solid ${props => props.error ? COLORS.colorBorderError : props.theme.borderColor};\n  border-radius: 3px;\n  padding: 12px 40px 12px 20px;\n`;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nimport { COLORS } from '../../constants/colors';\nimport { PageWrapper as CommonPageWrapper } from '../../components/CommonStyled/PageWrapper.styled';\nimport { TextFieldInput as CommonTextFieldInput } from '../../components/TextFieldInput/TextFieldInput.styled';\nimport { default as CommonShowPasswordEyeIcon } from '../../assets/icons/ShowPasswordEyeIcon';\nimport { Tile } from '../../components/CommonStyled/Tile.styled';\n\n\nexport const PageWrapper = styled(CommonPageWrapper)`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n`;\n\nexport const LoginFormWrapper = styled(Tile)`\n  overflow: hidden;\n`;\n\nexport const LoginFormContainer = styled.div`\n  padding: 30px 75px 15px;\n  background-color: ${COLORS.colorAntiMain};\n`;\n\nexport const LoginForm = styled.form`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const LoginFormHeader = styled.h2`\n  background-color: ${COLORS.colorAccent4};\n  color: ${COLORS.colorAntiMain};\n  font-weight: bold;\n  margin: 0;\n  padding: 22px;\n  text-align: center;\n`;\n\nexport const TextFieldLabel = styled.label`\n  display: block;\n  font-size: 16px;\n  font-weight: 500;\n  position:relative;\n  \n  p {\n    margin-bottom: 10px;\n  }\n`;\n\nexport const LoginFormInput = styled(CommonTextFieldInput)`\n  font-size: 16px;\n  height: 40px;\n  padding: 12px 40px 12px 20px;\n  transition: border-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n              box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  width: 100%;\n`;\n\nexport const ErrorBlock = styled.div<{\n  visible: boolean,\n}>`\n  color: ${COLORS.colorAccent2};\n  font-size: 12px;\n  height: 30px;\n  line-height: 30px;\n  visibility: ${(props) => props.visible ? 'visible' : 'hidden'};\n`;\n\nexport const ShowPasswordEyeButton = styled.button`\n  bottom: 8px;\n  position: absolute;\n  right: 10px;\n`;\n\nexport const ShowPasswordEyeIcon = CommonShowPasswordEyeIcon;\n\nexport const SubmitButtonContainer = styled.div`\n  padding: 0 30px;\n  \n  &:hover {\n    filter: brightness(95%);\n  }\n`;\n\nexport const SubmitButton = styled.input`\n  background-color: ${COLORS.colorAccent4};\n  border-radius: 35px;\n  box-shadow: none;\n  color: ${COLORS.colorAntiMain};\n  cursor: pointer;\n  font-size: 16px;\n  height: 45px;\n  padding: 0 10px;\n  transition: all 0.25s ease;\n  width: 100%;\n  \n  &[disabled] {\n    background-color: ${COLORS.colorInactive};\n    cursor: not-allowed;\n  }\n`;\n\nexport const SignupLink = styled(Link)`\n  align-self: flex-end;\n`;","import * as React from 'react';\n\nimport { COLORS } from '../../constants/colors';\n\n\nexport default function ShowPasswordEyeIcon() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"16\" viewBox=\"0 0 22 16\">\n      <path fill={COLORS.colorAccent4} fillRule=\"nonzero\"\n            d=\"M11 .5C6 .5 1.73 3.61 0 8c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5C20.27 3.61 16 .5 11 .5zM11 13c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8C9.34 5 8 6.34 8 8s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\n\nimport * as loginPageStyled from '../LoginPage/LoginPage.styled';\nimport UrlService from '../../services/Url.service';\nimport FormsValidatorService from '../../services/FormsValidator.service';\nimport {\n  signupUserAttempt,\n  signupUserAttemptActionCreator,\n} from '../../store/userState/actions';\nimport { createStructuredSelector } from 'reselect';\nimport { RootReducer } from '../../store/rootReducer';\nimport * as selectors from '../../store/userState/selectors';\nimport { Link } from 'react-router-dom';\n\n\ninterface SignupPageState {\n  username: string,\n  password1: string,\n  password2: string,\n  usernameValid: boolean,\n  password1Valid: boolean,\n  password2Valid: boolean,\n  usernameTouched: boolean,\n  password1Touched: boolean,\n  password2Touched: boolean,\n  password1Visible: boolean,\n  password2Visible: boolean,\n  isSignupSubmitted: boolean,\n  isSignupSuccessfulMessageShown: boolean,\n}\n\ninterface SignupPageOwnProps {\n  signupError: string | null,\n  isSignupInProgress: boolean,\n}\n\ninterface SignupPageDispatchProps {\n  signupUser: signupUserAttemptActionCreator,\n}\n\ninterface SignupPageProps extends SignupPageOwnProps, SignupPageDispatchProps {}\n\nclass SignupPage extends React.PureComponent<SignupPageProps, SignupPageState> {\n  static propTypes = {};\n\n  state: SignupPageState = {\n    username: '',\n    password1: '',\n    password2: '',\n    usernameValid: true,\n    password1Valid: true,\n    password2Valid: false,\n    usernameTouched: false,\n    password1Touched: false,\n    password2Touched: false,\n    password1Visible: false,\n    password2Visible: false,\n    isSignupSubmitted: false,\n    isSignupSuccessfulMessageShown: false,\n  };\n\n  componentWillReceiveProps(nextProps: Readonly<SignupPageProps>, nextContext: any): void {\n    const isSignupSubmitSuccessful = this.state.isSignupSubmitted && !nextProps.signupError && !nextProps.isSignupInProgress;\n    if (isSignupSubmitSuccessful) {\n      this.setState({ isSignupSuccessfulMessageShown: true });\n    }\n  }\n\n  get isUsernameErrorShown() {\n    return !this.state.usernameValid && this.state.usernameTouched;\n  }\n\n  get isPassword1ErrorShown() {\n    return !this.state.password1Valid && this.state.password1Touched;\n  }\n\n  get isPassword2ErrorShown() {\n    return !this.state.password2Valid && this.state.password2Touched;\n  }\n\n  get isSubmitNotAllowed() {\n    return !this.state.usernameValid || !this.state.password1Valid ||  !this.state.password2Valid || this.props.isSignupInProgress;\n  }\n\n  onSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!FormsValidatorService.isUsernameValid(this.state.username) || !FormsValidatorService.isPasswordValid(this.state.password1)) {\n      console.warn('hmm, strange.. looks like this subtree is not reachable; kept to prevent bugs');\n      this.setState({\n        usernameValid: FormsValidatorService.isUsernameValid(this.state.username),\n        password1Valid: this.state.password1.length !== 0,\n        usernameTouched: true,\n        password1Touched: true,\n      });\n    } else {\n      this.setState({\n        usernameTouched: false,\n        password1Touched: false,\n        isSignupSubmitted: true,\n      });\n      this.props.signupUser(this.state.username, this.state.password1);\n    }\n  };\n\n  onUsernameChange = (e: React.ChangeEvent<HTMLInputElement>) => this.setState({\n    username: e.target.value,\n    usernameValid: FormsValidatorService.isUsernameValid(e.target.value),\n    usernameTouched: true,\n  });\n\n  onUsernameBlur = (e: React.FocusEvent<HTMLInputElement>) => this.setState({\n    username: e.target.value,\n    usernameValid: FormsValidatorService.isUsernameValid(e.target.value),\n    usernameTouched: true,\n  });\n\n  onPassword1Change = (e: React.ChangeEvent<HTMLInputElement>) => this.setState({\n    password1: e.target.value,\n    password1Valid: e.target.value.length !== 0,\n    password1Touched: true,\n  });\n\n  onPassword2Change = (e: React.ChangeEvent<HTMLInputElement>) => this.setState({\n    password2: e.target.value,\n    password2Valid: e.target.value === this.state.password1,\n    password2Touched: true,\n  });\n\n  onPassword1Blur = (e: React.FocusEvent<HTMLInputElement>) => {\n    // if (e.target.type === 'password' || e.target.type === 'text') {\n      this.setState({\n        password1: e.target.value,\n        password1Valid: e.target.value.length !== 0,\n        password1Touched: true,\n      });\n    // }\n  };\n\n  onPassword2Blur = (e: React.FocusEvent<HTMLInputElement>) => {\n    // if (e.target.type === 'password' || e.target.type === 'text') {\n      this.setState({\n        password2: e.target.value,\n        password2Valid: e.target.value === this.state.password1,\n        password2Touched: true,\n      });\n    // }\n  };\n\n  togglePassword1Visibility = (e: React.FormEvent) => {\n    e.preventDefault();\n    this.setState((prevState) => ({\n      password1Visible: !prevState.password1Visible,\n    }))\n  };\n\n  togglePassword2Visibility = (e: React.FormEvent) => {\n    e.preventDefault();\n    this.setState((prevState) => ({\n      password2Visible: !prevState.password2Visible,\n    }))\n  };\n\n  private renderUsername() {\n    return (\n      <>\n        <loginPageStyled.TextFieldLabel>\n          <p>Username</p>\n          <loginPageStyled.LoginFormInput\n            type=\"text\"\n            autoComplete=\"username\"\n            placeholder=\"Enter your username\"\n            value={this.state.username}\n            onChange={this.onUsernameChange}\n            onBlur={this.onUsernameBlur}\n            error={this.isUsernameErrorShown}\n          />\n        </loginPageStyled.TextFieldLabel>\n        <loginPageStyled.ErrorBlock\n          visible={this.isUsernameErrorShown}\n        >\n          ● wrong username\n        </loginPageStyled.ErrorBlock>\n      </>\n    );\n  }\n\n  private renderPassword1() {\n    return (\n      <>\n        <loginPageStyled.TextFieldLabel>\n          <p>Password</p>\n          <loginPageStyled.LoginFormInput\n            type={this.state.password1Visible ? 'text' : 'password'}\n            autoComplete=\"current-password\"\n            placeholder=\"Enter password\"\n            value={this.state.password1}\n            error={this.isPassword1ErrorShown}\n            onChange={this.onPassword1Change}\n            onBlur={this.onPassword1Blur}\n          />\n          <loginPageStyled.ShowPasswordEyeButton onClick={this.togglePassword1Visibility}>\n            <loginPageStyled.ShowPasswordEyeIcon/>\n          </loginPageStyled.ShowPasswordEyeButton>\n        </loginPageStyled.TextFieldLabel>\n        <loginPageStyled.ErrorBlock\n          visible={this.isPassword1ErrorShown}\n        >\n          ● wrong password\n        </loginPageStyled.ErrorBlock>\n      </>\n    );\n  }\n\n  private renderPassword2() {\n    return (\n      <>\n        <loginPageStyled.TextFieldLabel>\n          <p>Repeat password</p>\n          <loginPageStyled.LoginFormInput\n            type={this.state.password2Visible ? 'text' : 'password'}\n            autoComplete=\"repeat-password\"\n            placeholder=\"Repeat password\"\n            value={this.state.password2}\n            error={this.isPassword2ErrorShown}\n            onChange={this.onPassword2Change}\n            onBlur={this.onPassword2Blur}\n          />\n          <loginPageStyled.ShowPasswordEyeButton onClick={this.togglePassword2Visibility}>\n            <loginPageStyled.ShowPasswordEyeIcon/>\n          </loginPageStyled.ShowPasswordEyeButton>\n        </loginPageStyled.TextFieldLabel>\n        <loginPageStyled.ErrorBlock\n          visible={this.isPassword2ErrorShown}\n        >\n          ● passwords do not match\n        </loginPageStyled.ErrorBlock>\n      </>\n    );\n  }\n\n  private renderSubmit() {\n    return (\n      <>\n        <loginPageStyled.SubmitButtonContainer>\n          <loginPageStyled.SubmitButton\n            type=\"submit\"\n            disabled={this.isSubmitNotAllowed}\n            value=\"Sign up\"\n          />\n        </loginPageStyled.SubmitButtonContainer>\n        <loginPageStyled.ErrorBlock\n          visible={Boolean(this.props.signupError)}\n        >\n          ● {this.props.signupError}\n        </loginPageStyled.ErrorBlock>\n      </>\n    );\n  }\n\n  private renderSignupForm() {\n    return (\n      <loginPageStyled.LoginForm\n        onSubmit={this.onSubmit}\n      >\n        {this.renderUsername()}\n        {this.renderPassword1()}\n        {this.renderPassword2()}\n        {this.renderSubmit()}\n      </loginPageStyled.LoginForm>\n    );\n  }\n\n  renderSignupSuccessfulMessage() {\n    return (\n      <>\n        <p>You've signed up successfully!</p>\n        <Link to={UrlService.loginPageUrl}>Log in</Link>\n      </>\n    );\n  }\n\n  render() {\n    return (\n      <loginPageStyled.PageWrapper>\n        <loginPageStyled.LoginFormWrapper>\n          <loginPageStyled.LoginFormHeader>\n            Sign up\n          </loginPageStyled.LoginFormHeader>\n          <loginPageStyled.LoginFormContainer>\n            {\n              this.state.isSignupSuccessfulMessageShown\n                ? this.renderSignupSuccessfulMessage()\n                : this.renderSignupForm()\n            }\n          </loginPageStyled.LoginFormContainer>\n        </loginPageStyled.LoginFormWrapper>\n      </loginPageStyled.PageWrapper>\n    );\n  }\n}\n\nconst mapStateToProps = createStructuredSelector<RootReducer, SignupPageOwnProps>({\n  signupError: selectors.signupErrorSelector,\n  isSignupInProgress: selectors.isSignupAttemptInProgressSelector,\n});\n\nconst mapDispatchToProps = {\n  signupUser: signupUserAttempt,\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\n\nexport default compose(\n  withConnect,\n)(SignupPage);\n"],"sourceRoot":""}
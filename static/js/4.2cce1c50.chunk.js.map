{"version":3,"sources":["components/Button/Button.tsx","components/ToggleSwitch/ToggleSwitch.tsx","components/Button/Button.styled.ts","components/TextFieldInput/Input.styled.ts","store/parkingSettings/actions.ts","components/TextFieldInput/InputNumber.tsx","containers/ParkingsPage/styles.module.css","components/Map/Map.module.css","components/Sidebar/Sidebar.module.css","assets/images/magnifier.svg","assets/images/mapMarker.png","components/CursorMapCenter/CursorMapCenter.module.css","components/SelectedParkingPopup/SelectedParkingPopup.module.css","components/Map/context.tsx","components/Map/Map.tsx","containers/BaseConfigPage/BaseConfigActions.ts","containers/ParkingsPage/ParkingsMap.tsx","components/Search/Search.styled.ts","components/Search/Search.tsx","components/Sidebar/Sidebar.tsx","containers/ParkingsPage/ParkingsSidebar.tsx","components/CursorMapCenter/CursorMapCenter.tsx","utils/geometry.ts","components/LayerParkings/LayerParkings.tsx","components/SelectedParkingPopup/SelectedParkingPopup.tsx","containers/ParkingsPage/ParkingsPageMapContent.tsx","containers/PostParkingPage/PostParkingPageMapContent.styled.ts","containers/PostParkingPage/PostParkingPageMapContent.tsx","containers/ParkingsPage/ParkingsPage.tsx"],"names":["_Button_styled__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","styled","d","__webpack_exports__","ToggleSwitchColorScheme3","ToggleSwitch","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","ToggleSwitchColorScheme1","props","a","createElement","className","concat","disabled","type","id","onChange","e","target","checked","defaultChecked","isOnByDefault","colorScheme","value1","value2","defaultProps","typeToColor","regular","COLORS","colorAccent1","warning","colorAccent2","error","colorAccent3","Button","button","_templateObject","colorType","colorMainText","_ref","withRoundedCorners","InputContainer","div","InputPlaceholder","input","_templateObject2","label","_templateObject3","setVoiceNotifications","startCheckingParkopediaUpdates","stopCheckingParkopediaUpdates","setCheckingParkopediaUpdates","typesafe_actions__WEBPACK_IMPORTED_MODULE_0__","_constants__WEBPACK_IMPORTED_MODULE_1__","isEnabled","action","constants","InputNumber","placeholder","restProps","Object","_home_travis_build_goodwin64_free_parkings_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1___default","_Input_styled__WEBPACK_IMPORTED_MODULE_2__","assign","value","required","module","exports","CenterMarker","ParkingsControlButtonsContainer","LoadParkingsButton","CreateNewParkingButton","ClearAllFreeSlotsButton","ClearVisibleFreeSlotsButton","NoParkingsWarning","MapWrapper","SidebarContainer","SidebarContainerOpened","SidebarContainerClosed","OpenSidebarButton","CloseSidebarButton","p","CursorMapCenterContainer","magnifierPulse","pulse","zoomInMessage","YourMarkerImage","PopupContainer","PopupCloseButton","MapContext","React","withMap","Component","react","Consumer","map","MapboxMap","Park4uMap","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onMoveEnd","_map$getCenter","getCenter","lat","lon","lng","reCenter","onMapLoad","setState","MapboxMapRef","onZoomEnd","state","center","centerLon","centerLat","zoomLevel","DEFAULT_ZOOM_LEVEL","nextProps","nextContext","react_default","style","stylesUrl","containerStyle","mapStyle","zoom","onStyleLoad","Provider","children","Loader","PureComponent","mapToken","width","height","ReactMapboxGl","accessToken","setSearchRadius","radius","BaseConfigConstants","closeSidebar","ParkingsMap","recalculateSearchRadius","setZoomLevel","getZoom","bounds","getBounds","getNorthWest","northWest","halfScreenDiagonal","distance","units","searchRadius","Math","floor","Map","setParkingsPageCenter","lib_esm","position","mapStateToProps","createStructuredSelector","ParkingsPageSelectors","mapDispatchToProps","ParkingsPageActions","BaseConfigActions","withConnect","connect","compose","Input","colorAntiMain","SearchContainer","List","ul","Item","li","_templateObject4","SearchDropdown","onKeyPress","event","which","keyCode","searchByLatLon","onSelectItem","index","latLonMatch","split","trim","length","every","Boolean","_latLonMatch$map","Number","_latLonMatch$map2","slicedToArray","_latLonMatch$map2$","_latLonMatch$map2$2","onLatLonSearch","onSearchInputChange","onPoiSearch","_this2","options","title","el","key","onClick","name","Sidebar","_classnames","classname","classnames","styles","defineProperty","isOpen","openSidebar","isSidebarOpen","BaseConfigSelectors","clearAllFreeSlots","clearVisibleFreeSlots","withRouter","components_Sidebar_Sidebar","react_router_dom","to","pathname","UrlService","createParkingPageUrl","search","location","CursorMapCenter","isSearchRadiusTooBig","renderMagnifierPulsed","renderCoordinatesMarker","Fragment","src","magnifier","alt","mapMarker","geometryLatLonToLonLat","geometry","slice","reverse","ParkingsLayer","onParkingClick","parking","popupCoordinates","lngLat","openPopup","onMouseEnter","getCanvasContainer","cursor","onMouseOut","layout","lineLayout","paint","getLinePaint","allParkingsLayerId","parkings","coordinates","allParkingsClickableAreaLayerId","onMouseLeave","freeParkingsLayerId","freeParkings","freeParking","_this3","freeParkingsClickableAreaLayerId","renderAllParkings","renderAllParkingsClickableArea","renderFreeParkings","renderFreeParkingsClickableArea","isFreeParking","isClickableArea","lineWidth","line-color","colorAccent4","line-width","line-cap","line-join","SelectedParkingPopup","keyPressHandler","selectedParking","closePopup","openPopupDetails","document","addEventListener","removeEventListener","offset","renderParkopediaParkingPopup","costPerHour","maxStayDuration","restrictions","join","features","req","url","body","method","arguments","undefined","Request","headers","Headers","Accept","Content-Type","Accept-Charset","mapboxGeocoding","query","encodeURIComponent","ParkingsPage","fetchPlaces","fetch","then","res","json","data","place","place_name","catch","console","selected","_selected$center","selectedLon","selectedLat","history","push","editParkingPageUrlWithParams","synchronizeLatLon","setTimeout","fetchParkings","wasFetchPerformedOnce","MAX_SEARCH_RADIUS_TO_FETCH","isParkingFetchInProgress","allParkingsList","ParkingsPage_ParkingsSidebar","Search","components_CursorMapCenter_CursorMapCenter","renderNoParkingsWarning","renderControlButtons","LayerParkings","freeParkingsList","components_SelectedParkingPopup_SelectedParkingPopup","renderSidebar","checkParkopediaUpdates","askPermissionForGeoLocation","CreateParkingForm","form","PostParkingPageMapContent_styled_templateObject","CreateParkingHeading","h2","PostParkingPageMapContent_styled_templateObject2","CreateParkingSectionDescription","PostParkingPageMapContent_styled_templateObject3","CreateParkingParameterContainer","section","PostParkingPageMapContent_styled_templateObject4","CreateParkingControlsContainer","_templateObject5","CreateParkingGeometry","textarea","_templateObject6","textareaLatLonPlaceholder","textareaLonLatPlaceholder","postParking","deleteParking","navigateBackToFindParkings","findParkingsPageUrl","_React$useState","useState","_React$useState2","isLatLon","setIsLatLon","point","_ref2","parkingsGeoJsonSource","setParkingsGeoJsonSource","_ref3","_ref4","parkingLength","setParkingLength","_ref5","_ref6","parkingWidth","setParkingWidth","_ref7","_ref8","parkingHeight","setParkingHeight","_ref9","_ref10","setCostPerHour","_ref11","_ref12","setMaxStayDuration","areAllParametersValid","handleUserKeyPress","useCallback","useEffect","window","onSubmit","preventDefault","valueAsNumber","min","step","objectSpread","ParkingsPage_ParkingsMap","react_router","path","component","ParkingsPageMapContent","PostParkingPage","editParkingPageUrlRoute"],"mappings":"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","file":"static/js/4.2cce1c50.chunk.js","sourcesContent":["import * as styled from './Button.styled';\n\n\nexport default styled.Button;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './ToggleSwitch.global.css';\n\ntype ColorScheme1 = 'red-green';\ntype ColorScheme2 = 'black-white';\ntype ColorScheme3 = 'orange-blue';\n\nexport const ToggleSwitchColorScheme1: ColorScheme1 = 'red-green';\nexport const ToggleSwitchColorScheme2: ColorScheme2 = 'black-white';\nexport const ToggleSwitchColorScheme3: ColorScheme3 = 'orange-blue';\n\ninterface ToggleSwitchProps {\n  value1?: string,\n  value2?: string,\n  onChange: (value: boolean) => void,\n  colorScheme?: ColorScheme1 | ColorScheme2 | ColorScheme3,\n  isOnByDefault?: boolean,\n  disabled?: boolean,\n}\n\nToggleSwitch.propTypes = {\n  value1: PropTypes.string,\n  value2: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  colorScheme: PropTypes.oneOf([ToggleSwitchColorScheme1, ToggleSwitchColorScheme2, ToggleSwitchColorScheme3]),\n  isOnByDefault: PropTypes.bool,\n  disabled: PropTypes.bool,\n};\n\nToggleSwitch.defaultProps = {\n  value1: '',\n  value2: '',\n  colorScheme: ToggleSwitchColorScheme1,\n  isOnByDefault: false,\n  disabled: false,\n};\n\nexport default function ToggleSwitch(props: ToggleSwitchProps) {\n  const onInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    props.onChange(e.target.checked);\n  };\n\n  return (\n    <label className={`switch ${props.disabled ? 'disabled' : ''}`}>\n      <input\n        type=\"checkbox\"\n        id=\"togBtn\"\n        onChange={onInputChange}\n        defaultChecked={props.isOnByDefault}\n      />\n      <div className={`slider round ${props.colorScheme ? props.colorScheme : ToggleSwitchColorScheme1}`}>\n        <span className=\"off\">{props.value1}</span>\n        <span className=\"on\">{props.value2}</span>\n      </div>\n    </label>\n  )\n}","import styled from 'styled-components';\nimport { COLORS } from '../../constants/colors';\n\n\ntype typeToColor = {\n  regular: string,\n  warning: string,\n  error: string,\n};\nconst typeToColor = {\n  regular: COLORS.colorAccent1,\n  warning: COLORS.colorAccent2,\n  error: COLORS.colorAccent3,\n};\ntype ButtonColorType = keyof typeToColor;\n\nexport const Button = styled.button<{\n  withRoundedCorners?: boolean,\n  colorType?: ButtonColorType,\n}>`\n  background-color: ${(props) => props.colorType ? typeToColor[props.colorType] : COLORS.colorAccent1};\n  border: none;\n  color: ${COLORS.colorMainText};\n  padding: 15px 32px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 16px;\n  border-radius: ${({ withRoundedCorners }) => withRoundedCorners ? 3 : 0}px;\n  font-weight: 500;\n`;\n","import styled from 'styled-components';\n\n\nexport const InputContainer = styled.div`\n  position: relative;\n  width: 240px;\n  height: 40px;\n  margin: 20px 0;\n  flex-grow: 1;\n  max-width: 300px;\n`;\n\nexport const Input = styled.input`\n  text-overflow: ellipsis;\n`;\n\nexport const InputPlaceholder = styled.label``;\n","import { action, ActionType } from 'typesafe-actions';\n\nimport * as constants from './constants';\n\n\nexport const setVoiceNotifications = (isEnabled: boolean) => action(constants.SET_VOICE_NOTIFICATIONS, isEnabled);\nexport type setVoiceNotificationsAction = ActionType<typeof setVoiceNotifications>;\nexport type setVoiceNotificationsActionCreator = (isEnabled: boolean) => setVoiceNotificationsAction;\n\n\nexport const startCheckingParkopediaUpdates = () => action(constants.START_CHECKING_PARKOPEDIA_UPDATES);\nexport type startCheckingParkopediaUpdatesAction = ActionType<typeof startCheckingParkopediaUpdates>;\nexport type startCheckingParkopediaUpdatesActionCreator = () => startCheckingParkopediaUpdatesAction;\n\n\nexport const stopCheckingParkopediaUpdates = () => action(constants.STOP_CHECKING_PARKOPEDIA_UPDATES);\nexport type stopCheckingParkopediaUpdatesAction = ActionType<typeof stopCheckingParkopediaUpdates>;\nexport type stopCheckingParkopediaUpdatesActionCreator = () => stopCheckingParkopediaUpdatesAction;\n\n\nexport const setCheckingParkopediaUpdates = (isEnabled: boolean) => action(constants.SET_CHECKING_PARKOPEDIA_UPDATES, isEnabled);\nexport type setCheckingParkopediaUpdatesAction = ActionType<typeof setCheckingParkopediaUpdates>;\nexport type setCheckingParkopediaUpdatesActionCreator = (isEnabled: boolean) => setCheckingParkopediaUpdatesAction;\n\n\nexport type ParkingSettingsAction = setVoiceNotificationsAction\n  | startCheckingParkopediaUpdatesAction\n  | stopCheckingParkopediaUpdatesAction\n  | setCheckingParkopediaUpdatesAction\n  ;","import React from 'react';\n\nimport * as styled from './Input.styled';\nimport './Input.global.css';\n\n\ninterface InputProps extends React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement> {\n  value: number | '',\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void,\n  placeholder: string,\n}\n\nexport default function InputNumber(props: InputProps) {\n  const { placeholder, ...restProps } = props;\n\n  return (\n    <styled.InputContainer>\n      <input\n        type=\"number\"\n        value={props.value}\n        onChange={props.onChange}\n        className=\"effect-20\"\n        required\n        {...restProps}\n      />\n      <styled.InputPlaceholder>\n        {props.placeholder}\n      </styled.InputPlaceholder>\n      <span className=\"focus-border\"><i/></span>\n    </styled.InputContainer>\n  )\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CenterMarker\":\"styles_CenterMarker__136W5\",\"ParkingsControlButtonsContainer\":\"styles_ParkingsControlButtonsContainer__1wXj9\",\"LoadParkingsButton\":\"styles_LoadParkingsButton__39lc2\",\"CreateNewParkingButton\":\"styles_CreateNewParkingButton__aystF\",\"ClearAllFreeSlotsButton\":\"styles_ClearAllFreeSlotsButton__2xZxK\",\"ClearVisibleFreeSlotsButton\":\"styles_ClearVisibleFreeSlotsButton__ZVvwS\",\"NoParkingsWarning\":\"styles_NoParkingsWarning__3h16Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MapWrapper\":\"Map_MapWrapper__3dhGH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SidebarContainer\":\"Sidebar_SidebarContainer__2-n7-\",\"SidebarContainerOpened\":\"Sidebar_SidebarContainerOpened__3Cppy\",\"SidebarContainerClosed\":\"Sidebar_SidebarContainerClosed__25mhs\",\"OpenSidebarButton\":\"Sidebar_OpenSidebarButton__3jnLr\",\"CloseSidebarButton\":\"Sidebar_CloseSidebarButton__37F7t\"};","module.exports = __webpack_public_path__ + \"static/media/magnifier.2931e6af.svg\";","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CursorMapCenterContainer\":\"CursorMapCenter_CursorMapCenterContainer__tVQh6\",\"magnifierPulse\":\"CursorMapCenter_magnifierPulse__1FofQ\",\"pulse\":\"CursorMapCenter_pulse__2Kuja\",\"zoomInMessage\":\"CursorMapCenter_zoomInMessage__2_9g8\",\"YourMarkerImage\":\"CursorMapCenter_YourMarkerImage__3MkkI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PopupContainer\":\"SelectedParkingPopup_PopupContainer__32XzO\",\"PopupCloseButton\":\"SelectedParkingPopup_PopupCloseButton__ILsdw\"};","import * as React from 'react';\nimport mapboxgl from 'mapbox-gl'\n\nexport const MapContext = React.createContext(null) as React.Context<mapboxgl.Map | null>;\n\nexport interface MapContextProps {\n    MapboxMap: mapboxgl.Map\n}\n\nconst withMap = (Component: React.ComponentClass<any>) => {\n    return function MappedComponent<T>(props: T) {\n        return (\n            <MapContext.Consumer>\n                {map => <Component MapboxMap={map} {...props} />}\n            </MapContext.Consumer>\n        );\n    };\n};\n\nexport default withMap;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport * as MapboxGl from 'mapbox-gl';\nimport ReactMapboxGl from 'react-mapbox-gl';\n\nimport Loader from '../Loader/Loader';\nimport { MapContext } from './context';\nimport * as style from './Map.module.css';\nimport * as ParkingsPageActions from '../../store/parkings/actions';\nimport { DEFAULT_ZOOM_LEVEL } from '../../containers/BaseConfigPage/BaseConfigConstants';\n\n\ninterface Park4uMapState {\n  center: [number, number],\n  // don't use number primitive for this purpose - internal \"react-mapbox-gl\" optimizations\n  zoomLevel: [number];\n  MapboxMapRef: (MapboxGl.Map | null),\n}\n\ninterface Park4uMapProps {\n  children?: any,\n  reCenter: ParkingsPageActions.setParkingsPageCenterActionCreator,\n  onZoomEnd: (map: MapboxGl.Map) => void,\n  onMapLoad: (map: MapboxGl.Map) => void,\n  centerLat: number,\n  centerLon: number,\n  zoomLevel: number,\n}\n\nclass Park4uMap extends React.PureComponent<Park4uMapProps, Park4uMapState> {\n  static mapToken = 'pk.eyJ1IjoiY2xvdWRtYWRlIiwiYSI6ImNqcG56a3VoZTA0dTc0OHF0d21rOTk0eHoifQ.sB4G-WjZ1JdB_fqAaPeULQ';\n  static stylesUrl = 'mapbox://styles/mapbox/dark-v9';\n\n  static propTypes = {\n    reCenter: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {};\n\n  static mapStyle = {\n    width: '100%',\n    height: '100%',\n  };\n\n  constructor(props: Park4uMapProps) {\n    super(props);\n    this.state = {\n      center: [props.centerLon, props.centerLat],\n      zoomLevel: [DEFAULT_ZOOM_LEVEL],\n      MapboxMapRef: null,\n    };\n  }\n\n  componentWillReceiveProps(nextProps: Readonly<Park4uMapProps>, nextContext: any): void {\n    const isMapCenterChanged = this.props.centerLat !== nextProps.centerLat || this.props.centerLon !== nextProps.centerLon;\n    if (isMapCenterChanged) {\n      this.setState({\n        center: [nextProps.centerLon, nextProps.centerLat],\n      });\n    }\n    const isZoomLevelChanged = this.props.zoomLevel !== nextProps.zoomLevel;\n    if (isZoomLevelChanged) {\n      this.setState({\n        zoomLevel: [nextProps.zoomLevel],\n      });\n    }\n  }\n\n  onMoveEnd = (map: MapboxGl.Map) => {\n    const { lat, lng: lon } = map.getCenter();\n    this.props.reCenter(lat, lon);\n  };\n\n  onMapLoad = (map: MapboxGl.Map) => {\n    this.setState(() => ({ MapboxMapRef: map }));\n    this.props.onMapLoad(map);\n  };\n\n  onZoomEnd = (map: MapboxGl.Map) => {\n    this.props.onZoomEnd(map);\n  };\n\n  render() {\n    return (\n      <div className={style['MapWrapper']}>\n        <MapboxMap\n          style={Park4uMap.stylesUrl}\n          containerStyle={Park4uMap.mapStyle}\n          center={this.state.center}\n          zoom={this.state.zoomLevel}\n          onMoveEnd={this.onMoveEnd}\n          onStyleLoad={this.onMapLoad}\n          onZoomEnd={this.onZoomEnd}\n        >\n          <MapContext.Provider value={this.state.MapboxMapRef}>\n            {this.state.MapboxMapRef ? this.props.children : <Loader/>}\n          </MapContext.Provider>\n        </MapboxMap>\n      </div>\n    );\n  }\n}\n\nconst MapboxMap = ReactMapboxGl({\n  accessToken: Park4uMap.mapToken,\n});\n\nexport default Park4uMap;\n","import { action, ActionType } from 'typesafe-actions';\n\nimport * as BaseConfigConstants from './BaseConfigConstants';\n\nexport const setSearchRadius = (radius: number) => action(BaseConfigConstants.BASE_CONFIG_RADIUS_SET, radius);\nexport type setSearchRadiusAction = ActionType<typeof setSearchRadius>;\nexport type setSearchRadiusActionCreator = (radius: number) => setSearchRadiusAction;\n\nexport const resetSearchRadius = () => action(BaseConfigConstants.BASE_CONFIG_RADIUS_RESET);\nexport type resetBaseConfigRadiusAction = ActionType<typeof resetSearchRadius>;\n\nexport const openSidebar = () => action(BaseConfigConstants.BASE_CONFIG_OPEN_SIDEBAR);\nexport type openSidebarAction = ActionType<typeof openSidebar>;\nexport type openSidebarActionCreator = () => openSidebarAction;\n\nexport const closeSidebar = () => action(BaseConfigConstants.BASE_CONFIG_CLOSE_SIDEBAR);\nexport type closeSidebarAction = ActionType<typeof closeSidebar>;\nexport type closeSidebarActionCreator = () => closeSidebarAction;\n\n\nexport type BaseConfigAction = setSearchRadiusAction\n  | resetBaseConfigRadiusAction\n  | openSidebarAction\n  | closeSidebarAction\n;\n","import React from 'react';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport * as MapboxGl from 'mapbox-gl';\nimport distance from '@turf/distance';\nimport { ZoomControl } from 'react-mapbox-gl';\nimport { createStructuredSelector } from 'reselect';\n\nimport Park4uMap from '../../components/Map/Map';\nimport { RootReducer } from '../../store/rootReducer';\nimport * as ParkingsPageActions from '../../store/parkings/actions';\nimport * as ParkingsPageSelectors from '../../store/parkings/selectors';\nimport * as BaseConfigActions from '../BaseConfigPage/BaseConfigActions';\n\n\ninterface ParkingsMapOwnProps {\n  centerLat: number,\n  centerLon: number,\n  zoomLevel: number,\n}\n\ninterface ParkingsMapDispatchProps {\n  setZoomLevel: ParkingsPageActions.setZoomLevelActionCreator,\n  setSearchRadius: BaseConfigActions.setSearchRadiusActionCreator,\n  setParkingsPageCenter: ParkingsPageActions.setParkingsPageCenterActionCreator,\n}\n\ninterface ParkingsMapProps extends ParkingsMapOwnProps, ParkingsMapDispatchProps {}\n\nclass ParkingsMap extends React.PureComponent<ParkingsMapProps> {\n  recalculateSearchRadius(map: MapboxGl.Map) {\n    const bounds = map.getBounds();\n    const [northWest, center] = [bounds.getNorthWest(), bounds.getCenter()];\n\n    const halfScreenDiagonal = distance(\n      [northWest.lng, northWest.lat],\n      [center.lng, center.lat],\n      { units: 'meters' },\n    );\n    const searchRadius = Math.floor(halfScreenDiagonal);\n    this.props.setSearchRadius(searchRadius);\n  }\n\n  onZoomEnd = (map: MapboxGl.Map) => {\n    this.recalculateSearchRadius(map);\n    this.props.setZoomLevel(map.getZoom());\n  };\n\n  onMapLoad = (map: MapboxGl.Map) => {\n    this.recalculateSearchRadius(map);\n  };\n\n  render() {\n    return (\n      <Park4uMap\n        reCenter={this.props.setParkingsPageCenter}\n        centerLat={this.props.centerLat}\n        centerLon={this.props.centerLon}\n        onZoomEnd={this.onZoomEnd}\n        onMapLoad={this.onMapLoad}\n        zoomLevel={this.props.zoomLevel}\n      >\n        {this.props.children}\n        <ZoomControl\n          position=\"bottom-right\"\n        />\n      </Park4uMap>\n    );\n  }\n}\n\nconst mapStateToProps = createStructuredSelector<RootReducer, ParkingsMapOwnProps>({\n  zoomLevel: ParkingsPageSelectors.zoomLevelSelector,\n  centerLat: ParkingsPageSelectors.centerCoordinatesLatitudeSelector,\n  centerLon: ParkingsPageSelectors.centerCoordinatesLongitudeSelector,\n});\n\nconst mapDispatchToProps: ParkingsMapDispatchProps = {\n  setZoomLevel: ParkingsPageActions.setZoomLevel,\n  setSearchRadius: BaseConfigActions.setSearchRadius,\n  setParkingsPageCenter: ParkingsPageActions.setParkingsPageCenter,\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\n\nexport default compose(\n  withConnect,\n)(ParkingsMap);\n","import styled from 'styled-components';\nimport { COLORS } from '../../constants/colors';\n\n\nexport const Input = styled('input')<{}>`\n  background-color: ${COLORS.colorMainText};\n  border-radius: 3px;\n  color: ${COLORS.colorAntiMain};\n  font-size: 15px;\n  font-weight: 500;\n  height: 100%;\n  opacity: 0.8;\n  outline: none;\n  padding: 0 20px 0 10px;\n  width: 100%;\n\n  ::placeholder {\n    color: #bbb;\n  }\n`;\n\nexport const SearchContainer = styled.div`\n  height: 48px;\n  left: 50%;\n  max-width: 480px;\n  position: absolute;\n  top: 20px;\n  transform: translateX(-50%);\n  width: 100%;\n  z-index: var(--zIndexSearchContainer);\n  \n  @media (max-width: 768px) {\n    max-width: 80%;\n  }\n`;\n\nexport const List = styled.ul`\n  background-color: ${COLORS.colorMainText};\n  color: ${COLORS.colorAntiMain};\n  opacity: 0.8;\n  list-style-type: none;\n  padding: 6px 20px;\n`;\n\nexport const Item = styled.li`\n  cursor: pointer;\n  font-size: 13px;\n  padding: 4px 0px;\n`;\n","import * as React from 'react';\nimport trim from 'lodash/trim';\n\nimport { Place } from '../../interfaces/Place';\nimport * as styled from './Search.styled';\n\n\ninterface SearchDropdownProps {\n  options: Place[];\n  onPoiSearch: (searchQuery: string) => void;\n  onSelectItem: (item: number) => void;\n  onLatLonSearch: (lat: number, lon: number) => void;\n}\n\ninterface SearchDropdownState {\n  value: string,\n}\n\nclass SearchDropdown extends React.Component<SearchDropdownProps, SearchDropdownState> {\n\n  public state = {\n    value: '',\n  };\n\n  private onKeyPress = (event: React.KeyboardEvent<HTMLElement>) => {\n    const key = event.which || event.keyCode;\n    if (key === 13) {\n      this.searchByLatLon();\n    }\n  };\n\n  private onSelectItem = (index: number) => {\n    this.setState({\n      value: '',\n    });\n\n    this.props.onSelectItem(index);\n  };\n\n  private searchByLatLon = () => {\n    // check whether LatLon was entered\n    const latLonMatch = this.state.value.split(',').map(trim);\n    if (latLonMatch\n      && latLonMatch.length === 2\n      && latLonMatch.every(Boolean)\n    ) {\n      const [lat = 0, lon = 0] = latLonMatch.map(Number);\n      const isCorrectLat = lat >= -90 && lat <= 90;\n      const isCorrectLon = lon >= -180 && lon <= 180;\n      if (isCorrectLat && isCorrectLon) {\n        this.props.onLatLonSearch(lat, lon);\n        this.setState({\n          value: '',\n        });\n      }\n    }\n  };\n\n  private onSearchInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({\n      value: event.target.value,\n    });\n\n    if (event.target.value.length > 2) {\n      this.props.onPoiSearch(event.target.value);\n    }\n  };\n\n  public render() {\n    const { options } = this.props;\n    const { value } = this.state;\n\n    return (\n      <styled.SearchContainer>\n        <styled.Input\n          onChange={this.onSearchInputChange}\n          value={value}\n          placeholder=\"Search\"\n          onKeyPress={this.onKeyPress}\n          title=\"Lat: [-90..90], Lon: [-180..180]\"\n        />\n        {\n          value.length > 2 && options.length > 0 && (\n            <styled.List>\n              {\n                options.map((el, index) => (\n                  <styled.Item\n                    key={index}\n                    onClick={() => this.onSelectItem(index)}\n                  >\n                    {el.name}\n                  </styled.Item>\n                ))\n              }\n            </styled.List>\n          )\n        }\n      </styled.SearchContainer>\n    );\n  }\n}\n\nexport default SearchDropdown;\n","import React from 'react';\nimport classnames from 'classnames';\nimport * as PropTypes from 'prop-types';\n\nimport * as BaseConfigActions from '../../containers/BaseConfigPage/BaseConfigActions';\n\nimport * as styles from './Sidebar.module.css';\n\n\ninterface SidebarProps {\n  isOpen: boolean,\n  openSidebar: BaseConfigActions.openSidebarActionCreator,\n  closeSidebar: BaseConfigActions.closeSidebarActionCreator,\n}\n\nclass Sidebar extends React.PureComponent<SidebarProps> {\n  static propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    openSidebar: PropTypes.func.isRequired,\n    closeSidebar: PropTypes.func.isRequired,\n  };\n\n  render() {\n    const classname = classnames(styles['SidebarContainer'], {\n      [styles['SidebarContainerOpened']]: this.props.isOpen,\n      [styles['SidebarContainerClosed']]: !this.props.isOpen,\n    });\n\n    return (\n      <aside className={classname}>\n        <button\n          className={this.props.isOpen ? styles['OpenSidebarButton'] : styles['CloseSidebarButton']}\n          onClick={this.props.isOpen ? this.props.closeSidebar : this.props.openSidebar}\n        >\n          {'<'}\n        </button>\n        { this.props.children }\n      </aside>\n    );\n  }\n}\n\nexport default Sidebar;\n","import React from 'react';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport { createStructuredSelector } from 'reselect';\n\nimport Button from '../../components/Button/Button';\nimport * as styles from './styles.module.css';\nimport UrlService from '../../services/Url.service';\nimport Sidebar from '../../components/Sidebar/Sidebar';\nimport { RootReducer } from '../../store/rootReducer';\nimport { RouterProps } from '../../interfaces/RouterProps';\nimport * as BaseConfigSelectors from '../BaseConfigPage/BaseConfigSelectors';\nimport * as BaseConfigActions from '../BaseConfigPage/BaseConfigActions';\nimport * as ParkingsPageActions from '../../store/parkings/actions';\n\n\ninterface ParkingsSidebarOwnProps {\n  isSidebarOpen: boolean,\n}\n\ninterface ParkingsSidebarDispatchProps {\n  openSidebar: BaseConfigActions.openSidebarActionCreator,\n  closeSidebar: BaseConfigActions.closeSidebarActionCreator,\n  clearAllFreeSlots: ParkingsPageActions.deleteAllFreeSlotsActionCreator,\n  clearVisibleFreeSlots: ParkingsPageActions.deleteVisibleFreeSlotsActionCreator,\n}\n\ninterface ParkingsSidebarProps extends ParkingsSidebarOwnProps, ParkingsSidebarDispatchProps, RouterProps {}\n\nfunction ParkingsSidebar(props: ParkingsSidebarProps) {\n  return (\n    <Sidebar\n      isOpen={props.isSidebarOpen}\n      openSidebar={props.openSidebar}\n      closeSidebar={props.closeSidebar}\n    >\n      <Link to={{pathname: UrlService.createParkingPageUrl, search: props.location.search}}>\n        <Button\n          className={styles['CreateNewParkingButton']}\n        >\n          Create new parking\n        </Button>\n      </Link>\n\n      <Button\n        onClick={props.clearAllFreeSlots}\n        className={styles['ClearAllFreeSlotsButton']}\n      >\n        Clear All Free Slots\n      </Button>\n\n      <Button\n        onClick={props.clearVisibleFreeSlots}\n        className={styles['ClearVisibleFreeSlotsButton']}\n      >\n        Clear Visible Free Slots\n      </Button>\n    </Sidebar>\n  );\n}\n\nconst mapStateToProps = createStructuredSelector<RootReducer, ParkingsSidebarOwnProps>({\n  isSidebarOpen: BaseConfigSelectors.isSidebarOpenSelector,\n});\n\nconst mapDispatchToProps: ParkingsSidebarDispatchProps = {\n  openSidebar: BaseConfigActions.openSidebar,\n  closeSidebar: BaseConfigActions.closeSidebar,\n  clearAllFreeSlots: ParkingsPageActions.deleteAllFreeSlots,\n  clearVisibleFreeSlots: ParkingsPageActions.deleteVisibleFreeSlots,\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\n\nexport default compose(\n  withRouter,\n  withConnect,\n)(ParkingsSidebar);\n","import React from 'react';\n\nimport magnifier from '../../assets/images/magnifier.svg';\nimport mapMarker from '../../assets/images/mapMarker.png';\nimport * as styles from './CursorMapCenter.module.css';\n\n\ninterface CursorMapCenterProps {\n  isSearchRadiusTooBig: boolean,\n}\n\nclass CursorMapCenter extends React.PureComponent<CursorMapCenterProps> {\n  static renderMagnifierPulsed() {\n    return (\n      <React.Fragment>\n        <img src={magnifier} alt=\"\" className={styles['magnifierPulse']}/>\n        <br/>\n        <h2 className={styles['zoomInMessage']}>Please zoom in to load parkings</h2>\n      </React.Fragment>\n    );\n  }\n\n  static renderCoordinatesMarker() {\n    return (\n      <img src={mapMarker} alt=\"You're here\" className={styles['YourMarkerImage']}/>\n    );\n  }\n\n  render() {\n    return (\n      <div className={styles['CursorMapCenterContainer']}>\n        {\n          this.props.isSearchRadiusTooBig\n            ? CursorMapCenter.renderMagnifierPulsed()\n            : CursorMapCenter.renderCoordinatesMarker()\n        }\n      </div>\n    );\n  }\n}\n\nexport default CursorMapCenter;","import { LatLon } from '../interfaces/LatLon';\nimport { PointGeometry } from '../interfaces/PointGeometry';\n\n\nexport function geometryLatLonToLonLat(geometry: PointGeometry[]) {\n  return geometry.map((p) => p.slice().reverse());\n}\n\nexport function geometryObjToLonLat(geometry: LatLon) {\n  return [geometry.lon, geometry.lat];\n}\n","import React from 'react';\nimport { compose } from 'redux';\nimport { MapMouseEvent } from 'mapbox-gl';\nimport { Feature, Layer } from 'react-mapbox-gl';\n\nimport { COLORS } from '../../constants/colors';\nimport withMap, { MapContextProps } from '../Map/context';\nimport { ParkopediaParking } from '../../interfaces/ParkopediaParking';\nimport { geometryLatLonToLonLat } from '../../utils/geometry';\nimport { LatLon } from '../../interfaces/LatLon';\n\n\nexport type openPopup = (p: ParkopediaParking, popupCoordinates: LatLon) => void;\nexport type openPopupDetails = (p: ParkopediaParking) => void;\n\ninterface ParkingsLayerProps extends MapContextProps {\n  parkings: ParkopediaParking[],\n  freeParkings: ParkopediaParking[],\n  zoomLevel: number,\n  openPopup: openPopup,\n  closePopup: () => void,\n}\n\nclass ParkingsLayer extends React.PureComponent<ParkingsLayerProps> {\n  static allParkingsLayerId = 'all-parkings-layer';\n  static freeParkingsLayerId = 'free-parkings-layer';\n  static allParkingsClickableAreaLayerId = 'all-parkings-clickable-layer';\n  static freeParkingsClickableAreaLayerId = 'free-parkings-clickable-layer';\n\n  static lineLayout = {\n    'line-cap': 'round',\n    'line-join': 'round',\n  };\n\n  static getLinePaint(zoomLevel: number, isFreeParking: boolean, isClickableArea: boolean) {\n    let lineWidth;\n    if (zoomLevel < 14.5) {\n      lineWidth = 1;\n    } else if (zoomLevel < 15) {\n      lineWidth = 2;\n    } else if (zoomLevel < 15.5) {\n      lineWidth = 3;\n    } else if (zoomLevel < 16) {\n      lineWidth = 4;\n    } else {\n      lineWidth = 5;\n    }\n    if (isFreeParking) {\n      lineWidth += 2;\n    }\n    if (isClickableArea) {\n      lineWidth *= 3;\n    }\n\n    const lineColor = (\n      isClickableArea\n        ? 'transparent'\n        : isFreeParking\n          ? COLORS.colorAccent1\n          : COLORS.colorAccent4\n    );\n\n    return {\n      'line-color': lineColor,\n      'line-width': lineWidth,\n    };\n  }\n\n  onParkingClick = (parking: ParkopediaParking) => (e: MapMouseEvent) => {\n    const popupCoordinates = { lat: e.lngLat.lat, lon: e.lngLat.lng };\n    this.props.openPopup(parking, popupCoordinates);\n  };\n\n  onMouseEnter = () => {\n    const canvasContainer = this.props.MapboxMap.getCanvasContainer();\n    canvasContainer.style.cursor = 'pointer';\n  };\n\n  onMouseOut = () => {\n    const canvas = this.props.MapboxMap.getCanvasContainer();\n    canvas.style.cursor = '';\n  };\n\n  renderAllParkings() {\n    return (\n      <Layer\n        type=\"line\"\n        layout={ParkingsLayer.lineLayout}\n        paint={ParkingsLayer.getLinePaint(this.props.zoomLevel, false, false)}\n        id={ParkingsLayer.allParkingsLayerId}\n      >\n        {\n          this.props.parkings.map((parking) => (\n            <Feature\n              key={parking.id}\n              coordinates={geometryLatLonToLonLat(parking.geometry)}\n            />\n          ))\n        }\n      </Layer>\n    );\n  }\n\n  renderAllParkingsClickableArea() {\n    return (\n      <Layer\n        type=\"line\"\n        layout={ParkingsLayer.lineLayout}\n        paint={ParkingsLayer.getLinePaint(this.props.zoomLevel, false, true)}\n        id={ParkingsLayer.allParkingsClickableAreaLayerId}\n      >\n        {\n          this.props.parkings.map((parking) => (\n            <Feature\n              key={parking.id}\n              coordinates={geometryLatLonToLonLat(parking.geometry)}\n              // @ts-ignore\n              onClick={this.onParkingClick(parking)}\n              onMouseEnter={this.onMouseEnter}\n              onMouseLeave={this.onMouseOut}\n            />\n          ))\n        }\n      </Layer>\n    );\n  }\n\n  renderFreeParkings() {\n    return (\n      <Layer\n        type=\"line\"\n        layout={ParkingsLayer.lineLayout}\n        paint={ParkingsLayer.getLinePaint(this.props.zoomLevel, true, false)}\n        id={ParkingsLayer.freeParkingsLayerId}\n      >\n        {\n          this.props.freeParkings.map((freeParking) => (\n            <Feature\n              key={freeParking.id}\n              coordinates={geometryLatLonToLonLat(freeParking.geometry)}\n            />\n          ))\n        }\n      </Layer>\n    );\n  }\n\n  renderFreeParkingsClickableArea() {\n    return (\n      <Layer\n        type=\"line\"\n        layout={ParkingsLayer.lineLayout}\n        paint={ParkingsLayer.getLinePaint(this.props.zoomLevel, true, true)}\n        id={ParkingsLayer.freeParkingsClickableAreaLayerId}\n      >\n        {\n          this.props.freeParkings.map((parking) => (\n            <Feature\n              key={parking.id}\n              coordinates={geometryLatLonToLonLat(parking.geometry)}\n              // @ts-ignore\n              onClick={this.onParkingClick(parking)}\n              onMouseEnter={this.onMouseEnter}\n              onMouseLeave={this.onMouseOut}\n            />\n          ))\n        }\n      </Layer>\n    );\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.renderAllParkings()}\n        {this.renderAllParkingsClickableArea()}\n        {this.renderFreeParkings()}\n        {this.renderFreeParkingsClickableArea()}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default compose(\n  withMap,\n)(ParkingsLayer);\n","import React from 'react';\nimport { Popup } from 'react-mapbox-gl';\n\nimport Button from '../Button/Button';\nimport './SelectedParkingPopup.global.css';\nimport { LatLon } from '../../interfaces/LatLon';\nimport * as styles from './SelectedParkingPopup.module.css';\nimport { geometryObjToLonLat } from '../../utils/geometry';\nimport { ParkopediaParking } from '../../interfaces/ParkopediaParking';\nimport { openPopupDetails } from '../LayerParkings/LayerParkings';\n\n\ninterface SelectedParkingPopupProps {\n  selectedParking: ParkopediaParking | null,\n  popupCoordinates: LatLon | null,\n  openPopupDetails: openPopupDetails,\n  closePopup: () => void,\n}\n\nclass SelectedParkingPopup extends React.PureComponent<SelectedParkingPopupProps> {\n  componentDidMount() {\n    document.addEventListener('keyup', this.keyPressHandler);\n  }\n\n  componentWillUnmount(): void {\n    document.removeEventListener('keyup', this.keyPressHandler);\n  }\n\n  keyPressHandler: React.EventHandler<any> = (e: React.KeyboardEvent) => {\n    if (e.keyCode === 27 && this.props.selectedParking) {\n      this.props.closePopup();\n    }\n  };\n\n  static renderParkopediaParkingPopup(parking: ParkopediaParking): React.ReactNode {\n    return (\n      <React.Fragment>\n        <p>Cost:</p>\n        <p>{parking.costPerHour ? `$${parking.costPerHour} per hour` : 'N/A'}</p>\n\n        <p>Max stay duration:</p>\n        <p>\n          {parking.maxStayDuration\n            ? parking.maxStayDuration + ' min'\n            : 'N/A'\n          }\n        </p>\n\n        <p>Restrictions:</p>\n        <p>\n          {parking.restrictions.length > 0\n            ? parking.restrictions.join(', ')\n            : 'N/A'\n          }\n        </p>\n\n        <p>Features:</p>\n        <p>\n          {parking.features.length > 0\n            ? parking.features.join(', ')\n            : 'N/A'\n          }\n        </p>\n      </React.Fragment>\n    );\n  }\n\n  openPopupDetails = () => {\n    if (this.props.selectedParking) {\n      this.props.openPopupDetails(this.props.selectedParking);\n    }\n  };\n\n  render() {\n    if (!this.props.selectedParking || !this.props.popupCoordinates) {\n      return null;\n    }\n\n    return (\n      <Popup\n        coordinates={geometryObjToLonLat(this.props.popupCoordinates)}\n        className={styles['PopupContainer']}\n        offset={10}\n      >\n        <button\n          className={styles['PopupCloseButton']}\n          onClick={this.props.closePopup}\n        >\n          ×\n        </button>\n        {SelectedParkingPopup.renderParkopediaParkingPopup(this.props.selectedParking)}\n        <Button onClick={this.openPopupDetails}>Details</Button>\n      </Popup>\n    );\n  }\n}\n\nexport default SelectedParkingPopup;\n","import React from 'react';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { createStructuredSelector } from 'reselect';\n\nimport { Place } from '../../interfaces/Place';\nimport { LatLon } from '../../interfaces/LatLon';\nimport Park4uMap from '../../components/Map/Map';\nimport Search from '../../components/Search/Search';\nimport Loader from '../../components/Loader/Loader';\nimport Button from '../../components/Button/Button';\nimport { RootReducer } from '../../store/rootReducer';\nimport ParkingsSidebar from './ParkingsSidebar';\nimport UrlService from '../../services/Url.service';\nimport { MapboxPlace } from '../../interfaces/MapboxPlace';\nimport { RouterProps } from '../../interfaces/RouterProps';\nimport { ParkopediaParking } from '../../interfaces/ParkopediaParking';\nimport * as ParkingsPageActions from '../../store/parkings/actions';\nimport * as ParkingsPageSelectors from '../../store/parkings/selectors';\nimport * as BaseConfigActions from '../BaseConfigPage/BaseConfigActions';\nimport * as BaseConfigSelectors from '../BaseConfigPage/BaseConfigSelectors';\nimport CursorMapCenter from '../../components/CursorMapCenter/CursorMapCenter';\nimport ParkingsLayer, { openPopup, openPopupDetails } from '../../components/LayerParkings/LayerParkings';\nimport SelectedParkingPopup from '../../components/SelectedParkingPopup/SelectedParkingPopup';\nimport { DEFAULT_ZOOM_LEVEL, MAX_SEARCH_RADIUS_TO_FETCH } from '../BaseConfigPage/BaseConfigConstants';\n\nimport * as styles from './styles.module.css';\nimport {\n  startCheckingParkopediaUpdates,\n  startCheckingParkopediaUpdatesActionCreator,\n  stopCheckingParkopediaUpdates,\n  stopCheckingParkopediaUpdatesActionCreator,\n} from '../../store/parkingSettings/actions';\n\n\nconst req = (url: string, body?: any, method = 'GET') =>\n  new Request(url, {\n    method,\n    headers: new Headers({\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      'Accept-Charset': 'utf-8',\n    }),\n    body,\n  });\n\nconst geocodingUrl = 'https://api.mapbox.com/geocoding/v5';\nconst mapboxGeocoding = (query: string) =>\n  `${geocodingUrl}/mapbox.places/${encodeURIComponent(query)}.json?access_token=${Park4uMap.mapToken}`;\n\ninterface ParkingsPageOwnProps {\n  radius: number,\n  allParkingsList: ParkopediaParking[],\n  freeParkingsList: ParkopediaParking[],\n  isParkingFetchInProgress: boolean,\n  isSearchRadiusTooBig: boolean,\n  wasFetchPerformedOnce: boolean,\n  zoomLevel: number,\n}\n\ninterface ParkingsPageDispatchProps {\n  closeSidebar: BaseConfigActions.closeSidebarActionCreator,\n  setZoomLevel: ParkingsPageActions.setZoomLevelActionCreator,\n  fetchParkings: ParkingsPageActions.fetchParkingsRequestActionCreator,\n  setSearchRadius: BaseConfigActions.setSearchRadiusActionCreator,\n  synchronizeLatLon: ParkingsPageActions.synchronizeLatLonActionCreator,\n  setParkingsPageCenter: ParkingsPageActions.setParkingsPageCenterActionCreator,\n  checkParkopediaUpdates: ParkingsPageActions.checkParkopediaUpdatesRequestActionCreator,\n  askPermissionForGeoLocation: ParkingsPageActions.askPermissionForGeoLocationActionCreator,\n  startCheckingParkopediaUpdates: startCheckingParkopediaUpdatesActionCreator,\n  stopCheckingParkopediaUpdates: stopCheckingParkopediaUpdatesActionCreator,\n}\n\ninterface ParkingsPageProps extends ParkingsPageOwnProps,\n  ParkingsPageDispatchProps,\n  RouterProps {\n}\n\ninterface ParkingsPageState {\n  query: string;\n  options: Place[];\n  selected?: Place;\n  selectedParking: ParkopediaParking | null,\n  popupCoordinates: LatLon | null,\n}\n\nclass ParkingsPage extends React.Component<ParkingsPageProps, ParkingsPageState> {\n  static defaultProps = {};\n\n  constructor(props: ParkingsPageProps) {\n    super(props);\n    this.state = {\n      query: '',\n      options: [],\n      selected: undefined,\n      selectedParking: null,\n      popupCoordinates: null,\n    };\n  }\n\n  componentDidMount(): void {\n    this.props.synchronizeLatLon();\n    this.props.startCheckingParkopediaUpdates();\n\n    setTimeout(() => {\n      this.props.fetchParkings();\n    }, 100);\n    // this.props.askPermissionForGeoLocation();\n  }\n\n  componentWillUnmount(): void {\n    this.props.stopCheckingParkopediaUpdates();\n    this.props.closeSidebar();\n  }\n\n  private fetchPlaces = (query: string) => {\n    fetch(req(mapboxGeocoding(query)))\n      .then((res: any) => res.json())\n      .then((data: any) => {\n        if (data.features.length === 0) {\n          return;\n        }\n        this.setState({\n          options: data.features\n            .map((place: MapboxPlace) => ({\n              id: place.id,\n              center: place.center,\n              name: place.place_name,\n            })),\n        });\n      })\n      .catch(console.error);\n  };\n\n  private onSelectItem = (index: number) => {\n    const selected = this.state.options[index];\n    const [selectedLon, selectedLat] = selected.center;\n    this.props.setParkingsPageCenter(selectedLat, selectedLon);\n    this.props.setZoomLevel(DEFAULT_ZOOM_LEVEL);\n    this.setState(() => ({ selected }));\n  };\n\n  private onPoiSearch = (query: string) => {\n    this.setState({ query });\n    this.fetchPlaces(query);\n  };\n\n  private onLatLonSearch = (lat: number, lon: number) => {\n    this.props.setParkingsPageCenter(lat, lon);\n    this.props.setZoomLevel(DEFAULT_ZOOM_LEVEL);\n  };\n\n  openPopup: openPopup = (parking: ParkopediaParking, popupCoordinates: LatLon) => {\n    this.setState({ selectedParking: parking, popupCoordinates });\n  };\n\n  openPopupDetails: openPopupDetails = (parking: ParkopediaParking) => {\n    this.props.history.push({\n      pathname: UrlService.editParkingPageUrlWithParams(parking.id),\n      search: this.props.location.search,\n    });\n  };\n\n  closePopup = () => {\n    this.setState({ selectedParking: null, popupCoordinates: null });\n  };\n\n  renderNoParkingsWarning() {\n    return (\n      this.props.wasFetchPerformedOnce\n      && this.props.radius < MAX_SEARCH_RADIUS_TO_FETCH\n      && !this.props.isParkingFetchInProgress\n      && this.props.allParkingsList.length === 0\n      && (\n        <h3 className={styles['NoParkingsWarning']}>\n          No parkings nearby<br/>\n          Try to get parkings for another location\n        </h3>\n      )\n    );\n  }\n\n  renderControlButtons() {\n    return (\n      <div\n        className={styles['ParkingsControlButtonsContainer']}\n      >\n        <Button\n          onClick={this.props.fetchParkings}\n          disabled={this.props.isParkingFetchInProgress || this.props.isSearchRadiusTooBig}\n          className={styles['LoadParkingsButton']}\n          withRoundedCorners\n        >\n          Load parkings\n        </Button>\n      </div>\n    );\n  }\n\n  renderSidebar() {\n    // @ts-ignore\n    return <ParkingsSidebar/>;\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Search\n          onPoiSearch={this.onPoiSearch}\n          onSelectItem={this.onSelectItem}\n          options={this.state.options}\n          onLatLonSearch={this.onLatLonSearch}\n        />\n        <div className={styles['CenterMarker']}>\n          {\n            this.props.isParkingFetchInProgress\n              ? <Loader/>\n              : <CursorMapCenter isSearchRadiusTooBig={this.props.isSearchRadiusTooBig}/>\n          }\n          {this.renderNoParkingsWarning()}\n        </div>\n        {this.renderControlButtons()}\n        <ParkingsLayer\n          parkings={this.props.allParkingsList}\n          freeParkings={this.props.freeParkingsList}\n          zoomLevel={this.props.zoomLevel}\n          openPopup={this.openPopup}\n          closePopup={this.closePopup}\n        />\n        <SelectedParkingPopup\n          selectedParking={this.state.selectedParking}\n          popupCoordinates={this.state.popupCoordinates}\n          openPopupDetails={this.openPopupDetails}\n          closePopup={this.closePopup}\n        />\n        {this.renderSidebar()}\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = createStructuredSelector<RootReducer, ParkingsPageOwnProps>({\n  radius: BaseConfigSelectors.searchRadiusSelector,\n  zoomLevel: ParkingsPageSelectors.zoomLevelSelector,\n  allParkingsList: ParkingsPageSelectors.allParkingsSelector,\n  freeParkingsList: ParkingsPageSelectors.freeParkingsSelector,\n  isSearchRadiusTooBig: BaseConfigSelectors.isSearchRadiusTooBigSelector,\n  wasFetchPerformedOnce: ParkingsPageSelectors.wasFetchPerformedSelector,\n  isParkingFetchInProgress: ParkingsPageSelectors.isParkingFetchInProgressSelector,\n});\n\nconst mapDispatchToProps: ParkingsPageDispatchProps = {\n  closeSidebar: BaseConfigActions.closeSidebar,\n  setZoomLevel: ParkingsPageActions.setZoomLevel,\n  setSearchRadius: BaseConfigActions.setSearchRadius,\n  fetchParkings: ParkingsPageActions.fetchParkingsRequest,\n  synchronizeLatLon: ParkingsPageActions.synchronizeLatLon,\n  setParkingsPageCenter: ParkingsPageActions.setParkingsPageCenter,\n  checkParkopediaUpdates: ParkingsPageActions.checkParkopediaUpdatesRequest,\n  askPermissionForGeoLocation: ParkingsPageActions.askPermissionForGeoLocation,\n  startCheckingParkopediaUpdates: startCheckingParkopediaUpdates,\n  stopCheckingParkopediaUpdates: stopCheckingParkopediaUpdates,\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\n\nexport default compose(\n  withRouter,\n  withConnect,\n)(ParkingsPage);\n","import styled from 'styled-components';\n\n\nexport const CreateParkingForm = styled.form`\n  background-color: #0004;\n  border-radius: 50px;\n  color: #ffffff;\n  display: grid;\n  grid-gap: 10px;\n  grid: 2fr 1fr 2fr 1fr 2fr 1fr 5fr 2fr / 1fr 1fr;\n  left: 10%;\n  padding: 50px;\n  position: absolute;\n  top: 10%;\n  transition: all 0.25s ease-in;\n  right: 10%;\n  bottom: 10%;\n  \n  &:focus-within,\n  &:hover {\n    background-color: #0008;\n  }\n\n  & * {\n    color: #ffffff !important;\n    font-weight: bold;\n  }\n`;\n\nexport const CreateParkingHeading = styled.h2`\n  grid-column: 1 / -1;\n  font-size: 2.5rem;\n  text-align: center;\n`;\n\nexport const CreateParkingSectionDescription = styled.p`\n  grid-column: 1 / -1;\n  font-size: 1.5rem;\n`;\n\nexport const CreateParkingParameterContainer = styled.section`\n  display: flex;\n  grid-column: 1 / -1;\n  justify-content: space-between;\n  \n  &&& > * {\n    margin-right: 10px;\n  \n    &:last-child {\n      margin-right: 0;\n    }\n  }\n`;\n\nexport const CreateParkingControlsContainer = styled.section`\n  display: flex;\n  grid-column: 1 / -1;\n  justify-content: space-between;\n  \n  & button {\n    color: #000 !important;\n  }\n`;\n\nexport const CreateParkingGeometry = styled.textarea`\n  background-color: transparent;\n  grid-column: 1 / -1;\n  height: 200px;\n  \n  &::placeholder {\n    color: #ffffff88;\n  }\n`;\n","import React from 'react';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { createStructuredSelector } from 'reselect';\n\nimport Button from '../../components/Button/Button';\nimport { RootReducer } from '../../store/rootReducer';\nimport { RouterProps } from '../../interfaces/RouterProps';\nimport * as styled from './PostParkingPageMapContent.styled';\nimport * as ParkingsPageActions from '../../store/parkings/actions';\nimport InputNumber from '../../components/TextFieldInput/InputNumber';\nimport { ParkopediaParking } from '../../interfaces/ParkopediaParking';\nimport * as ParkingsPageSelectors from '../../store/parkings/selectors';\nimport ToggleSwitch, { ToggleSwitchColorScheme3 } from '../../components/ToggleSwitch/ToggleSwitch';\nimport UrlService from '../../services/Url.service';\n\n\ninterface PostParkingPageOwnProps {\n  selectedParking: ParkopediaParking | null;\n}\n\nexport interface PostParkingPageDispatchProps {\n  postParking: ParkingsPageActions.postParkingAttemptActionCreator,\n  deleteParking: ParkingsPageActions.deleteParkingActionCreator,\n}\n\ninterface PostParkingPageProps extends PostParkingPageOwnProps,\n  PostParkingPageDispatchProps,\n  RouterProps {\n}\n\nconst textareaLatLonPlaceholder = `lat1, lon1\nlat2, lon2\n...\nlatN, lonN`;\n\nconst textareaLonLatPlaceholder = `lon1, lat1\nlon2, lat2\n...\nlonN, latN`;\n\nfunction PostParkingPageMapContent(props: PostParkingPageProps) {\n  const navigateBackToFindParkings = () => {\n    props.history.push({\n      pathname: UrlService.findParkingsPageUrl,\n      search: props.location.search,\n    });\n  };\n\n  const [isLatLon, setIsLatLon] = React.useState(Boolean(props.selectedParking));\n\n  const [parkingsGeoJsonSource, setParkingsGeoJsonSource] = props.selectedParking\n    ? React.useState(props.selectedParking.geometry.map(point => point.join(', ')).join('\\n'))\n    : React.useState('');\n\n  const [parkingLength, setParkingLength] = props.selectedParking\n    ? React.useState(props.selectedParking.length)\n    : React.useState(0);\n\n  const [parkingWidth, setParkingWidth] = props.selectedParking\n    ? React.useState(props.selectedParking.width)\n    : React.useState(0);\n\n  const [parkingHeight, setParkingHeight] = props.selectedParking\n    ? React.useState(props.selectedParking.height)\n    : React.useState(0);\n\n  const [costPerHour, setCostPerHour] = props.selectedParking\n    ? React.useState(props.selectedParking.costPerHour)\n    : React.useState(0);\n\n  const [maxStayDuration, setMaxStayDuration] = props.selectedParking\n    ? React.useState(props.selectedParking.maxStayDuration)\n    : React.useState(0);\n\n  const areAllParametersValid = Boolean(\n    parkingsGeoJsonSource\n    && parkingLength\n    && parkingWidth\n    && parkingHeight\n    && costPerHour\n    && maxStayDuration,\n  );\n\n  const handleUserKeyPress = React.useCallback(event => {\n    if (event.keyCode === 27) {\n      navigateBackToFindParkings();\n    }\n  }, []);\n\n  React.useEffect(() => {\n    window.addEventListener('keyup', handleUserKeyPress);\n\n    return () => {\n      window.removeEventListener('keyup', handleUserKeyPress);\n    };\n  }, [handleUserKeyPress]);\n\n  const onParkingGeometryChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setParkingsGeoJsonSource(e.target.value);\n  };\n\n  const onParkingSubmit = () => {\n    if (areAllParametersValid) {\n      props.postParking({\n        ...props.selectedParking ? { id: props.selectedParking.id } : {},\n        parkingsGeoJsonSource,\n        isLatLon,\n        parkingLength,\n        parkingWidth,\n        parkingHeight,\n        costPerHour,\n        maxStayDuration,\n        features: [],\n        restrictions: [],\n      });\n    }\n    navigateBackToFindParkings();\n  };\n\n  const onParkingDelete = () => {\n    if (props.selectedParking) {\n      props.deleteParking(props.selectedParking.id);\n    }\n    navigateBackToFindParkings();\n  };\n\n  const toggleIsLatLon = () => setIsLatLon(!isLatLon);\n\n  const onFormSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n  };\n\n  const onParkingLengthChange = (e: React.ChangeEvent<HTMLInputElement>) => setParkingLength(e.target.valueAsNumber);\n  const onParkingWidthChange = (e: React.ChangeEvent<HTMLInputElement>) => setParkingWidth(e.target.valueAsNumber);\n  const onParkingHeightChange = (e: React.ChangeEvent<HTMLInputElement>) => setParkingHeight(e.target.valueAsNumber);\n  const onCostPerHourChange = (e: React.ChangeEvent<HTMLInputElement>) => setCostPerHour(e.target.valueAsNumber);\n  const onMaxStayDurationChange = (e: React.ChangeEvent<HTMLInputElement>) => setMaxStayDuration(e.target.valueAsNumber);\n\n  return (\n    <styled.CreateParkingForm onSubmit={onFormSubmit}>\n      <styled.CreateParkingHeading>\n        {props.selectedParking ? 'Edit parking' : 'Create new parking'}\n      </styled.CreateParkingHeading>\n\n      <styled.CreateParkingSectionDescription>\n        Parking size\n      </styled.CreateParkingSectionDescription>\n\n      <styled.CreateParkingParameterContainer>\n        <InputNumber\n          value={parkingLength}\n          onChange={onParkingLengthChange}\n          placeholder=\"Enter parking length (mm)\"\n          min={0}\n        />\n        <InputNumber\n          value={parkingWidth}\n          onChange={onParkingWidthChange}\n          placeholder=\"Enter parking width (mm)\"\n          min={0}\n        />\n        <InputNumber\n          value={parkingHeight}\n          onChange={onParkingHeightChange}\n          placeholder=\"Enter parking height (mm)\"\n          min={0}\n        />\n      </styled.CreateParkingParameterContainer>\n\n      <styled.CreateParkingSectionDescription>\n        Cost and stay duration\n      </styled.CreateParkingSectionDescription>\n\n      <styled.CreateParkingParameterContainer>\n        <InputNumber\n          value={costPerHour}\n          onChange={onCostPerHourChange}\n          placeholder=\"Enter cost per hour ($)\"\n          min={0}\n          step={0.01}\n        />\n        <InputNumber\n          value={maxStayDuration}\n          onChange={onMaxStayDurationChange}\n          placeholder=\"Enter maximum stay duration (min)\"\n          min={0}\n          step={5}\n        />\n      </styled.CreateParkingParameterContainer>\n\n      <styled.CreateParkingSectionDescription>\n        Parking location\n      </styled.CreateParkingSectionDescription>\n\n      <styled.CreateParkingGeometry\n        value={parkingsGeoJsonSource}\n        onChange={onParkingGeometryChange}\n        placeholder={isLatLon ? textareaLatLonPlaceholder : textareaLonLatPlaceholder}\n      />\n\n      <styled.CreateParkingControlsContainer>\n        <ToggleSwitch\n          value1=\"lon, lat\"\n          value2=\"lat, lon\"\n          onChange={toggleIsLatLon}\n          colorScheme={ToggleSwitchColorScheme3}\n          isOnByDefault={isLatLon}\n        />\n        <div>\n          {\n            props.selectedParking && (\n              <Button onClick={onParkingDelete} withRoundedCorners colorType=\"warning\">\n                DELETE\n              </Button>\n            )\n          }\n          {' '}\n          <Button onClick={onParkingSubmit} withRoundedCorners disabled={!areAllParametersValid}>\n            {props.selectedParking ? 'SAVE' : 'ADD'}\n          </Button>\n        </div>\n      </styled.CreateParkingControlsContainer>\n\n    </styled.CreateParkingForm>\n  );\n}\n\nconst mapStateToProps = createStructuredSelector<RootReducer, PostParkingPageOwnProps>({\n  selectedParking: ParkingsPageSelectors.selectedParkingSelector,\n});\n\nconst mapDispatchToProps: PostParkingPageDispatchProps = {\n  postParking: ParkingsPageActions.postParkingAttempt,\n  deleteParking: ParkingsPageActions.deleteParking,\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\n\nexport default compose(\n  withConnect,\n  withRouter,\n)(PostParkingPageMapContent);\n","import React from 'react';\nimport { Route, Switch } from 'react-router';\n\nimport ParkingsMap from './ParkingsMap';\nimport UrlService from '../../services/Url.service';\nimport ParkingsPageMapContent from './ParkingsPageMapContent';\nimport PostParkingPage from '../PostParkingPage/PostParkingPageMapContent';\n\n\nfunction ParkingsPage() {\n  return (\n    <ParkingsMap>\n      <Switch>\n        <Route\n          path={UrlService.findParkingsPageUrl}\n          // @ts-ignore\n          component={ParkingsPageMapContent}\n        />\n        <Route\n          path={UrlService.createParkingPageUrl}\n          // @ts-ignore\n          component={PostParkingPage}\n        />\n        <Route\n          path={UrlService.editParkingPageUrlRoute}\n          // @ts-ignore\n          component={PostParkingPage}\n        />\n      </Switch>\n    </ParkingsMap>\n  );\n}\n\nexport default ParkingsPage;\n"],"sourceRoot":""}